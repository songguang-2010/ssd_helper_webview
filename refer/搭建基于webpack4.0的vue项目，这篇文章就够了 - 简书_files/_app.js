(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"+c4W":function(t,e,n){var r=n("711d"),o=n("4/ic"),a=n("9ggG"),c=n("9Nap");t.exports=function(t){return a(t)?r(c(t)):o(t)}},"+oT+":function(t,e,n){var r=n("eVuF");function o(t,e,n,o,a,c,i){try{var u=t[c](i),s=u.value}catch(l){return void n(l)}u.done?e(s):r.resolve(s).then(o,a)}t.exports=function(t){return function(){var e=this,n=arguments;return new r(function(r,a){var c=t.apply(e,n);function i(t){o(c,r,a,i,u,"next",t)}function u(t){o(c,r,a,i,u,"throw",t)}i(void 0)})}}},"1TCz":function(t,e,n){"use strict";n.r(e);var r=n("wx14"),o=(n("rGqo"),n("O7iK")),a=n.n(o),c=n("vN+2"),i=n.n(c),u=n("J2iB"),s=n.n(u),l=n("q1tI"),f=n.n(l),d=n("/MKj"),p=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),O=function(){return(O=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},g=function(t,e,n,r){return new(n||(n=Promise))(function(o,a){function c(t){try{u(r.next(t))}catch(e){a(e)}}function i(t){try{u(r.throw(t))}catch(e){a(e)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(c,i)}u((r=r.apply(t,e||[])).next())})},S=function(t,e){var n,r,o,a,c={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(a){return function(i){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return c.label++,{value:a[1],done:!1};case 5:c.label++,r=a[1],a=[0];continue;case 7:a=c.ops.pop(),c.trys.pop();continue;default:if(!(o=(o=c.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){c=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){c.label=a[1];break}if(6===a[0]&&c.label<o[1]){c.label=o[1],o=a;break}if(o&&c.label<o[2]){c.label=o[2],c.ops.push(a);break}o[2]&&c.ops.pop(),c.trys.pop();continue}a=e.call(t,c)}catch(i){a=[6,i],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,i])}}},h=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n},y={storeKey:"__NEXT_REDUX_STORE__",debug:!1,serializeState:function(t){return t},deserializeState:function(t){return t}},_=n("8Bbg"),v=n.n(_),m=n("8Kt/"),E=n.n(m),I=n("nOHt"),A=n.n(I),b=n("NTd/"),G=n.n(b),D=n("Mpt7"),T=n("Mj6V"),C=n.n(T),X=n("p46w"),Y=n.n(X),w=(n("ioFf"),n("rePB")),L=(n("/9aa"),n("ANjH")),N=function(t){return"@@redux-saga/"+t},k=N("CANCEL_PROMISE"),x=N("CHANNEL_END"),j=N("IO"),M=N("MATCH"),U=N("MULTICAST"),P=N("SAGA_ACTION"),R=N("SELF_CANCELLATION"),F=N("TASK"),q=N("TASK_CANCEL"),K=N("TERMINATE"),B=N("LOCATION");function W(){return(W=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var z=function(t){return null===t||void 0===t},H=function(t){return null!==t&&void 0!==t},Z=function(t){return"function"===typeof t},J=function(t){return"string"===typeof t},V=Array.isArray,Q=function(t){return t&&Z(t.then)},$=function(t){return t&&Z(t.next)&&Z(t.throw)},tt=function t(e){return e&&(J(e)||rt(e)||Z(e)||V(e)&&e.every(t))},et=function(t){return t&&Z(t.take)&&Z(t.close)},nt=function(t){return Z(t)&&t.hasOwnProperty("toString")},rt=function(t){return Boolean(t)&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype},ot=function(t){return et(t)&&t[U]};var at=function(t,e){var n;void 0===e&&(e=!0);var r=new Promise(function(r){n=setTimeout(r,t,e)});return r[k]=function(){clearTimeout(n)},r},ct=function(t){return function(){return t}}(!0),it=function(){};var ut=function(t){return t};"function"===typeof Symbol&&Symbol.asyncIterator&&Symbol.asyncIterator;var st=function(t,e){W(t,e),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(e).forEach(function(n){t[n]=e[n]})},lt=function(t,e){var n;return(n=[]).concat.apply(n,e.map(t))};function ft(t,e){var n=t.indexOf(e);n>=0&&t.splice(n,1)}function dt(t){var e=!1;return function(){e||(e=!0,t())}}var pt=function(t){throw t},Ot=function(t){return{value:t,done:!0}};function gt(t,e,n){void 0===e&&(e=pt),void 0===n&&(n="iterator");var r={meta:{name:n},next:t,throw:e,return:Ot,isSagaIterator:!0};return"undefined"!==typeof Symbol&&(r[Symbol.iterator]=function(){return r}),r}function St(t,e){var n=e.sagaStack;console.error(t),console.error(n)}var ht=function(t){return Array.apply(null,new Array(t))},yt=function(t){return function(e){return t(Object.defineProperty(e,P,{value:!0}))}},_t=function(t){return t===K},vt=function(t){return t===q},mt=function(t){return _t(t)||vt(t)};function Et(t,e){var n=Object.keys(t),r=n.length;var o,a=0,c=V(t)?ht(r):{},i={};return n.forEach(function(t){var n=function(n,i){o||(i||mt(n)?(e.cancel(),e(n,i)):(c[t]=n,++a===r&&(o=!0,e(c))))};n.cancel=it,i[t]=n}),e.cancel=function(){o||(o=!0,n.forEach(function(t){return i[t].cancel()}))},i}function It(t){return{name:t.name||"anonymous",location:At(t)}}function At(t){return t[B]}var bt="Channel's Buffer overflow!",Gt=1,Dt=3,Tt=4;function Ct(t,e){void 0===t&&(t=10);var n=new Array(t),r=0,o=0,a=0,c=function(e){n[o]=e,o=(o+1)%t,r++},i=function(){if(0!=r){var e=n[a];return n[a]=null,r--,a=(a+1)%t,e}},u=function(){for(var t=[];r;)t.push(i());return t};return{isEmpty:function(){return 0==r},put:function(i){var s;if(r<t)c(i);else switch(e){case Gt:throw new Error(bt);case Dt:n[o]=i,a=o=(o+1)%t;break;case Tt:s=2*t,n=u(),r=n.length,o=n.length,a=0,n.length=s,t=s,c(i)}},take:i,flush:u}}var Xt=function(t){return Ct(t,Dt)},Yt=function(t){return Ct(t,Tt)},wt="TAKE",Lt="PUT",Nt="ALL",kt="RACE",xt="CALL",jt="CPS",Mt="FORK",Ut="JOIN",Pt="CANCEL",Rt="SELECT",Ft="ACTION_CHANNEL",qt="CANCELLED",Kt="FLUSH",Bt="GET_CONTEXT",Wt="SET_CONTEXT",zt=function(t,e){var n;return(n={})[j]=!0,n.combinator=!1,n.type=t,n.payload=e,n};function Ht(t,e){return void 0===t&&(t="*"),tt(t)?zt(wt,{pattern:t}):ot(t)&&H(e)&&tt(e)?zt(wt,{channel:t,pattern:e}):et(t)?zt(wt,{channel:t}):void 0}function Zt(t,e){return z(e)&&(e=t,t=void 0),zt(Lt,{channel:t,action:e})}function Jt(t,e){var n,r=null;return Z(t)?n=t:(V(t)?(r=t[0],n=t[1]):(r=t.context,n=t.fn),r&&J(n)&&Z(r[n])&&(n=r[n])),{context:r,fn:n,args:e}}function Vt(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return zt(xt,Jt(t,n))}function Qt(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return zt(Mt,Jt(t,n))}function $t(t){void 0===t&&(t=ut);for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return zt(Rt,{selector:t,args:n})}var te=Vt.bind(null,at);function ee(){var t={};return t.promise=new Promise(function(e,n){t.resolve=e,t.reject=n}),t}var ne=ee,re=[],oe=0;function ae(t){try{ue(),t()}finally{se()}}function ce(t){re.push(t),oe||(ue(),le())}function ie(t){try{return ue(),t()}finally{le()}}function ue(){oe++}function se(){oe--}function le(){var t;for(se();!oe&&void 0!==(t=re.shift());)ae(t)}var fe=function(t){return function(e){return t.some(function(t){return Se(t)(e)})}},de=function(t){return function(e){return t(e)}},pe=function(t){return function(e){return e.type===String(t)}},Oe=function(t){return function(e){return e.type===t}},ge=function(){return ct};function Se(t){var e="*"===t?ge:J(t)?pe:V(t)?fe:nt(t)?pe:Z(t)?de:rt(t)?Oe:null;if(null===e)throw new Error("invalid pattern: "+t);return e(t)}var he={type:x},ye=function(t){return t&&t.type===x};function _e(t){void 0===t&&(t=Yt());var e=!1,n=[];return{take:function(r){e&&t.isEmpty()?r(he):t.isEmpty()?(n.push(r),r.cancel=function(){ft(n,r)}):r(t.take())},put:function(r){if(!e){if(0===n.length)return t.put(r);n.shift()(r)}},flush:function(n){e&&t.isEmpty()?n(he):n(t.flush())},close:function(){if(!e){e=!0;var t=n;n=[];for(var r=0,o=t.length;r<o;r++)(0,t[r])(he)}}}}function ve(){var t=function(){var t,e=!1,n=[],r=n,o=function(){r===n&&(r=n.slice())},a=function(){e=!0;var t=n=r;r=[],t.forEach(function(t){t(he)})};return(t={})[U]=!0,t.put=function(t){if(!e)if(ye(t))a();else for(var o=n=r,c=0,i=o.length;c<i;c++){var u=o[c];u[M](t)&&(u.cancel(),u(t))}},t.take=function(t,n){void 0===n&&(n=ge),e?t(he):(t[M]=n,o(),r.push(t),t.cancel=dt(function(){o(),ft(r,t)}))},t.close=a,t}(),e=t.put;return t.put=function(t){t[P]?e(t):ce(function(){e(t)})},t}var me=0,Ee=1,Ie=2,Ae=3;function be(t,e){var n=t[k];Z(n)&&(e.cancel=n),t.then(e,function(t){e(t,!0)})}var Ge,De=0,Te=function(){return++De};function Ce(t){t.isRunning()&&t.cancel()}var Xe=((Ge={})[wt]=function(t,e,n){var r=e.channel,o=void 0===r?t.channel:r,a=e.pattern,c=e.maybe,i=function(t){t instanceof Error?n(t,!0):!ye(t)||c?n(t):n(K)};try{o.take(i,H(a)?Se(a):null)}catch(u){return void n(u,!0)}n.cancel=i.cancel},Ge[Lt]=function(t,e,n){var r=e.channel,o=e.action,a=e.resolve;ce(function(){var e;try{e=(r?r.put:t.dispatch)(o)}catch(c){return void n(c,!0)}a&&Q(e)?be(e,n):n(e)})},Ge[Nt]=function(t,e,n,r){var o=r.digestEffect,a=De,c=Object.keys(e);if(0!==c.length){var i=Et(e,n);c.forEach(function(t){o(e[t],a,i[t],t)})}else n(V(e)?[]:{})},Ge[kt]=function(t,e,n,r){var o=r.digestEffect,a=De,c=Object.keys(e),i=V(e)?ht(c.length):{},u={},s=!1;c.forEach(function(t){var e=function(e,r){s||(r||mt(e)?(n.cancel(),n(e,r)):(n.cancel(),s=!0,i[t]=e,n(i)))};e.cancel=it,u[t]=e}),n.cancel=function(){s||(s=!0,c.forEach(function(t){return u[t].cancel()}))},c.forEach(function(t){s||o(e[t],a,u[t],t)})},Ge[xt]=function(t,e,n,r){var o=e.context,a=e.fn,c=e.args,i=r.task;try{var u=a.apply(o,c);if(Q(u))return void be(u,n);if($(u))return void Re(t,u,i.context,De,It(a),!1,n);n(u)}catch(s){n(s,!0)}},Ge[jt]=function(t,e,n){var r=e.context,o=e.fn,a=e.args;try{var c=function(t,e){z(t)?n(e):n(t,!0)};o.apply(r,a.concat(c)),c.cancel&&(n.cancel=c.cancel)}catch(i){n(i,!0)}},Ge[Mt]=function(t,e,n,r){var o=e.context,a=e.fn,c=e.args,i=e.detached,u=r.task,s=function(t){var e=t.context,n=t.fn,r=t.args;try{var o=n.apply(e,r);if($(o))return o;var a=!1;return gt(function(t){return a?{value:t,done:!0}:(a=!0,{value:o,done:!Q(o)})})}catch(c){return gt(function(){throw c})}}({context:o,fn:a,args:c}),l=function(t,e){return t.isSagaIterator?{name:t.meta.name}:It(e)}(s,a);ie(function(){var e=Re(t,s,u.context,De,l,i,void 0);i?n(e):e.isRunning()?(u.queue.addTask(e),n(e)):e.isAborted()?u.queue.abort(e.error()):n(e)})},Ge[Ut]=function(t,e,n,r){var o=r.task,a=function(t,e){if(t.isRunning()){var n={task:o,cb:e};e.cancel=function(){t.isRunning()&&ft(t.joiners,n)},t.joiners.push(n)}else t.isAborted()?e(t.error(),!0):e(t.result())};if(V(e)){if(0===e.length)return void n([]);var c=Et(e,n);e.forEach(function(t,e){a(t,c[e])})}else a(e,n)},Ge[Pt]=function(t,e,n,r){var o=r.task;e===R?Ce(o):V(e)?e.forEach(Ce):Ce(e),n()},Ge[Rt]=function(t,e,n){var r=e.selector,o=e.args;try{n(r.apply(void 0,[t.getState()].concat(o)))}catch(a){n(a,!0)}},Ge[Ft]=function(t,e,n){var r=e.pattern,o=_e(e.buffer),a=Se(r),c=function e(n){ye(n)||t.channel.take(e,a),o.put(n)},i=o.close;o.close=function(){c.cancel(),i()},t.channel.take(c,a),n(o)},Ge[qt]=function(t,e,n,r){n(r.task.isCancelled())},Ge[Kt]=function(t,e,n){e.flush(n)},Ge[Bt]=function(t,e,n,r){n(r.task.context[e])},Ge[Wt]=function(t,e,n,r){var o=r.task;st(o.context,e),n()},Ge);function Ye(t,e){return t+"?"+e}function we(t){var e=t.name,n=t.location;return n?e+"  "+Ye(n.fileName,n.lineNumber):e}function Le(t){var e=lt(function(t){return t.cancelledTasks},t);return e.length?["Tasks cancelled due to error:"].concat(e).join("\n"):""}var Ne=null,ke=[],xe=function(t){t.crashedEffect=Ne,ke.push(t)},je=function(){Ne=null,ke.length=0},Me=function(t){Ne=t},Ue=function(){var t=ke[0],e=ke.slice(1),n=t.crashedEffect?function(t){var e=At(t);return e?e.code+"  "+Ye(e.fileName,e.lineNumber):""}(t.crashedEffect):null;return["The above error occurred in task "+we(t.meta)+(n?" \n when executing effect "+n:"")].concat(e.map(function(t){return"    created by "+we(t.meta)}),[Le(ke)]).join("\n")};function Pe(t,e,n,r,o,a,c){var i;void 0===c&&(c=it);var u,s,l=me,f=null,d=[],p=Object.create(n),O=function(t,e,n){var r,o=[],a=!1;function c(t){e(),u(),n(t,!0)}function i(e){o.push(e),e.cont=function(i,u){a||(ft(o,e),e.cont=it,u?c(i):(e===t&&(r=i),o.length||(a=!0,n(r))))}}function u(){a||(a=!0,o.forEach(function(t){t.cont=it,t.cancel()}),o=[])}return i(t),{addTask:i,cancelAll:u,abort:c,getTasks:function(){return o}}}(e,function(){d.push.apply(d,O.getTasks().map(function(t){return t.meta.name}))},g);function g(e,n){if(n){if(l=Ie,xe({meta:o,cancelledTasks:d}),S.isRoot){var r=Ue();je(),t.onError(e,{sagaStack:r})}s=e,f&&f.reject(e)}else e===q?l=Ee:l!==Ee&&(l=Ae),u=e,f&&f.resolve(e);S.cont(e,n),S.joiners.forEach(function(t){t.cb(e,n)}),S.joiners=null}var S=((i={})[F]=!0,i.id=r,i.meta=o,i.isRoot=a,i.context=p,i.joiners=[],i.queue=O,i.cancel=function(){l===me&&(l=Ee,O.cancelAll(),g(q,!1))},i.cont=c,i.end=g,i.setContext=function(t){st(p,t)},i.toPromise=function(){return f?f.promise:(f=ne(),l===Ie?f.reject(s):l!==me&&f.resolve(u),f.promise)},i.isRunning=function(){return l===me},i.isCancelled=function(){return l===Ee||l===me&&e.status===Ee},i.isAborted=function(){return l===Ie},i.result=function(){return u},i.error=function(){return s},i);return S}function Re(t,e,n,r,o,a,c){var i=t.finalizeRunEffect(function(e,n,r){if(Q(e))be(e,r);else if($(e))Re(t,e,s.context,n,o,!1,r);else if(e&&e[j]){var a=Xe[e.type];a(t,e.payload,r,l)}else r(e)});f.cancel=it;var u={meta:o,cancel:function(){u.status===me&&(u.status=Ee,f(q))},status:me},s=Pe(t,u,n,r,o,a,c),l={task:s,digestEffect:d};return c&&(c.cancel=s.cancel),f(),s;function f(t,n){try{var o;n?(o=e.throw(t),je()):vt(t)?(u.status=Ee,f.cancel(),o=Z(e.return)?e.return(q):{done:!0,value:q}):o=_t(t)?Z(e.return)?e.return():{done:!0}:e.next(t),o.done?(u.status!==Ee&&(u.status=Ae),u.cont(o.value)):d(o.value,r,f)}catch(a){if(u.status===Ee)throw a;u.status=Ie,u.cont(a,!0)}}function d(e,n,r,o){void 0===o&&(o="");var a,c=Te();function u(n,o){a||(a=!0,r.cancel=it,t.sagaMonitor&&(o?t.sagaMonitor.effectRejected(c,n):t.sagaMonitor.effectResolved(c,n)),o&&Me(e),r(n,o))}t.sagaMonitor&&t.sagaMonitor.effectTriggered({effectId:c,parentEffectId:n,label:o,effect:e}),u.cancel=it,r.cancel=function(){a||(a=!0,u.cancel(),u.cancel=it,t.sagaMonitor&&t.sagaMonitor.effectCancelled(c))},i(e,c,u)}}var Fe=function(t){var e,n=void 0===t?{}:t,r=n.context,o=void 0===r?{}:r,a=n.channel,c=void 0===a?ve():a,i=n.sagaMonitor,u=function(t,e){if(null==t)return{};var n,r,o={},a=Object.keys(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(n,["context","channel","sagaMonitor"]);function s(t){var n=t.getState,r=t.dispatch;return e=function(t,e){for(var n=t.channel,r=void 0===n?ve():n,o=t.dispatch,a=t.getState,c=t.context,i=void 0===c?{}:c,u=t.sagaMonitor,s=t.effectMiddlewares,l=t.onError,f=void 0===l?St:l,d=arguments.length,p=new Array(d>2?d-2:0),O=2;O<d;O++)p[O-2]=arguments[O];var g,S=e.apply(void 0,p),h=Te();if(u&&(u.rootSagaStarted=u.rootSagaStarted||it,u.effectTriggered=u.effectTriggered||it,u.effectResolved=u.effectResolved||it,u.effectRejected=u.effectRejected||it,u.effectCancelled=u.effectCancelled||it,u.actionDispatched=u.actionDispatched||it,u.rootSagaStarted({effectId:h,saga:e,args:p})),s){var y=L.d.apply(void 0,s);g=function(t){return function(e,n,r){return y(function(e){return t(e,n,r)})(e)}}}else g=ut;var _={channel:r,dispatch:yt(o),getState:a,sagaMonitor:u,onError:f,finalizeRunEffect:g};return ie(function(){var t=Re(_,S,i,h,It(e),!0,void 0);return u&&u.effectResolved(h,t),t})}.bind(null,W({},u,{context:o,channel:c,dispatch:r,getState:n,sagaMonitor:i})),function(t){return function(e){i&&i.actionDispatched&&i.actionDispatched(e);var n=t(e);return c.put(e),n}}}return s.run=function(){return e.apply(void 0,arguments)},s.setContext=function(t){st(o,t)},s},qe=function(t){return{done:!0,value:t}},Ke={};function Be(t){return et(t)?"channel":nt(t)?String(t):Z(t)?t.name:String(t)}function We(t,e,n){var r,o,a,c=e;function i(e,n){if(c===Ke)return qe(e);if(n&&!o)throw c=Ke,n;r&&r(e);var i=n?t[o](n):t[c]();return c=i.nextState,a=i.effect,r=i.stateUpdater,o=i.errorState,c===Ke?qe(e):a}return gt(i,function(t){return i(null,t)},n)}function ze(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];var a,c={done:!1,value:Ht(t)},i=function(t){return a=t};return We({q1:function(){return{nextState:"q2",effect:c,stateUpdater:i}},q2:function(){return{nextState:"q1",effect:(t=a,{done:!1,value:Qt.apply(void 0,[e].concat(r,[t]))})};var t}},"q1","takeEvery("+Be(t)+", "+e.name+")")}function He(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];var a,c,i={done:!1,value:Ht(t)},u=function(t){return{done:!1,value:Qt.apply(void 0,[e].concat(r,[t]))}},s=function(t){return{done:!1,value:(e=t,void 0===e&&(e=R),zt(Pt,e))};var e},l=function(t){return a=t},f=function(t){return c=t};return We({q1:function(){return{nextState:"q2",effect:i,stateUpdater:f}},q2:function(){return a?{nextState:"q3",effect:s(a)}:{nextState:"q1",effect:u(c),stateUpdater:l}},q3:function(){return{nextState:"q1",effect:u(c),stateUpdater:l}}},"q1","takeLatest("+Be(t)+", "+e.name+")")}function Ze(t,e,n){for(var r=arguments.length,o=new Array(r>3?r-3:0),a=3;a<r;a++)o[a-3]=arguments[a];var c,i,u,s,l={done:!1,value:(u=e,s=Xt(1),zt(Ft,{pattern:u,buffer:s}))},f={done:!1,value:te(t)},d=function(t){return c=t},p=function(t){return i=t};return We({q1:function(){return{nextState:"q2",effect:l,stateUpdater:p}},q2:function(){return{nextState:"q3",effect:{done:!1,value:Ht(i)},stateUpdater:d}},q3:function(){return{nextState:"q4",effect:(t=c,{done:!1,value:Qt.apply(void 0,[n].concat(o,[t]))})};var t},q4:function(){return{nextState:"q2",effect:f}}},"q1","throttle("+Be(e)+", "+n.name+")")}const Je=t=>{if(t.subs){const{subs:e}=t,n=e.reduce((t,e)=>t.set(e.namespace,Je(e).state),t.state);return Object.assign({},t,{state:n})}return t},Ve=(t,e)=>{const{reducers:n={},state:r}=t,o=Reflect.ownKeys(n);return(a=r,c)=>{for(let r=0;r<o.length;r++){const i=o[r];if(c.type===i){if(e.length>0){const r=[...e.slice(1),t.namespace];return a.updateIn(r,t=>n[i](t,c))}return n[i](a,c)}}return a}},Qe=(t,e=[])=>{const n={};return t.forEach(t=>{const r=Je(t);if(t.subs){const{subs:o}=t;n[t.namespace]=function(...t){return(e,n)=>t.reduce((t,e)=>e(t,n),e)}(Ve(r,e),...Object.values(Qe(o,[...e,t.namespace])))}else n[t.namespace]=Ve(r,e)}),n};var $e=Qe,tn=n("QLaP"),en=n.n(tn),nn=n("VHGY");const rn=(t,e)=>{let n="takeEvery",r=e,o=0;if(Array.isArray(e)){r=e[0];const t=e[1];t&&t.type&&"throttle"===(n=t.type)&&(en()(t.ms,"options.ms should be defined if effect type is throttle"),o=t.ms),en()(["watcher","takeEvery","takeLatest","throttle"].includes(n),"effect type should be watcher, takeEvery, takeLatest, or throttle")}const a=function*(t={}){const{__zad__resolve__:e=i.a,__zad__reject__:n=i.a,inServer:o=!1}=t;try{e(yield r(t))}catch(a){const t=a.message;t&&!o&&nn.a.error(t),o&&(console.log((new Date).toISOString()),console.log("api error\n",a)),n(a)}};switch(n){case"watcher":return a;case"takeLatest":return function*(){yield function(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];return Qt.apply(void 0,[He,t,e].concat(r))}(t,a)};case"throttle":return function*(){yield function(t,e,n){for(var r=arguments.length,o=new Array(r>3?r-3:0),a=3;a<r;a++)o[a-3]=arguments[a];return Qt.apply(void 0,[Ze,t,e,n].concat(o))}(o,t,a)};default:return function*(){yield function(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];return Qt.apply(void 0,[ze,t,e].concat(r))}(t,a)}}},on=(t={})=>Reflect.ownKeys(t).map(e=>{const n=t[e];return rn(e,n)()}),an=t=>t.map(t=>{if(t.subs){const{subs:e}=t;return[...on(t.sagas),...an(e)]}return on(t.sagas)}).reduce((t,e)=>t.concat(e),[]);var cn=an,un=n("dMi0"),sn=n.n(un),ln=n("xdjK"),fn=n("gY8I"),dn=n("u8R9"),pn=n("g3DI"),On=n("lSCD"),gn=n.n(On);function*Sn({maxTries:t=3,delayLength:e=500,interruptFn:n}={},r,...o){let a=1;for(;;)try{return yield Vt(r,...o)}catch(c){if(a>=t)throw c;if(gn()(n)&&n(c))throw c;yield te(e)}finally{a++}}var hn=n("wZ/u"),yn=n("wrf5"),_n=n("oIB+"),vn=n("3Ywu"),mn={namespace:_n.e,state:Object(D.a)({}),reducers:{[fn.a.SET_INITIAL_DATA]:(t,e)=>{const{userAgent:n}=e.payload;return Object(D.a)({value:n,isIE11:Object(vn.e)(n),earlyIE:Object(vn.b)(n),chrome:Object(vn.a)(n),firefox:Object(vn.c)(n),safari:Object(vn.d)(n),isMac:Object(vn.f)(n)})}}},En={namespace:_n.b,state:Object(D.a)({displayable:!1,rate:0}),sagas:{*[fn.a.GET_DIAMOND_RATE](){const{data:t}=yield Vt(dn.b);yield Zt({type:fn.a.GET_DIAMOND_RATE_SUCCESS,payload:t})}},reducers:{[fn.a.GET_DIAMOND_RATE_SUCCESS]:(t,{payload:e})=>t=t.merge(e)}},In={namespace:_n.c,state:Object(D.a)({QRCodeShareModal:!1,LikeListModal:!1,RewardListModal:!1,BookCatalogModal:!1,CollectionModal:!1,RewardModal:!1,PayModal:!1,ContributeModal:!1,ReportModal:!1}),reducers:{[fn.a.OPEN_MODAL]:(t,{payload:e})=>{const{modalNamespace:n,isAuthor:r}=e;return r&&"RewardModal"===n?(nn.a.warning(G.a.get("error.rewardSelf")),t):t.set(n,!0)},[fn.a.CLOSE_MODAL]:(t,{payload:e})=>{const{modalNamespace:n}=e;return t.set(n,!1)},[fn.a.OPEN_REPORT_MODAL]:(t,{payload:e})=>t.set("ReportModal",Object(D.a)(e))}};const An=()=>new Promise((t,e)=>{setTimeout(()=>{const n=Math.random();console.log(n),n>.5?t(!0):e(new Error("timeout"))},1e3)});var bn={namespace:_n.d,state:Object(D.a)({fontType:"",locale:"",readMode:"",seoList:[],done:!1}),subs:[mn,En,In],sagas:{xxx:[function*(){for(;;){yield Ht("xxx");try{yield Sn({maxTries:3,delayLength:500},An),yield Zt({type:"xxx/done"})}catch(t){yield Zt({type:"xxx/timeout"})}}},{type:"watcher"}],*[fn.a.SET_READ_MODE]({payload:t}){const{readMode:e}=t;(yield $t(ln.o)).get("isLogin")?yield Vt(dn.e,e):Y.a.set("read_mode",e),yield Zt({type:fn.a.SET_READ_MODE_SUCCESS,payload:t})},*[fn.a.SET_FONT_TYPE]({payload:t}){const{fontType:e}=t,n=sn()(yn.f,t=>t===e);(yield $t(ln.o)).get("isLogin")?yield Vt(dn.c,n):Y.a.set("default_font",n),yield Zt({type:fn.a.SET_FONT_TYPE_SUCCESS,payload:t})},*[fn.a.SET_LOCALE]({payload:t}){const{locale:e}=t;(yield $t(ln.o)).get("isLogin")?yield Vt(dn.d,e):Y.a.set("locale",e);const r=()=>"zh-CN"===e?n.e(7).then(n.t.bind(null,"TM5q",7)):n.e(8).then(n.t.bind(null,"1VuS",7));if(e!==window.__NEXT_DATA__.props.initialProps.currentLocale){const t=yield Vt(r);yield Vt(G.a.load.bind(G.a),{[e]:t})}const{locales:o}=G.a.options;yield Vt(G.a.init.bind(G.a),{locales:o,currentLocale:e}),yield Zt({type:fn.a.SET_LOCALE_SUCCESS,payload:t})},*[fn.a.GET_SEO_NOTE_LIST]({payload:t,req:e}){const{slug:n}=t,{headers:r}=e,{data:o}=yield Vt(pn.p,n,r);yield Zt({type:fn.a.GET_SEO_NOTE_LIST_SUCCESS,payload:o})}},reducers:{xxx:t=>t.set("done","start"),"xxx/done":t=>t.set("done",!0),"xxx/timeout":t=>t.set("done","timeout"),[fn.a.SET_INITIAL_DATA]:(t,e)=>{const n=Object(hn.a)(e.payload.cookie);return t=t.merge({fontType:yn.f[n.default_font]||"black",locale:n.locale||"zh-CN",readMode:n.read_mode||"day"})},[fn.a.SET_READ_MODE_SUCCESS]:(t,{payload:e})=>{nn.a.success(G.a.get("message.setReadMode"));const{readMode:n}=e;return t=t.set("readMode",n)},[fn.a.SET_FONT_TYPE_SUCCESS]:(t,{payload:e})=>{nn.a.success(G.a.get("message.setFontType"));const{fontType:n}=e;return t=t.set("fontType",n)},[fn.a.SET_LOCALE_SUCCESS]:(t,{payload:e})=>{nn.a.success(G.a.get("message.setLocale"));const{locale:n}=e;return t=t.set("locale",n)},[fn.a.GET_SEO_NOTE_LIST_SUCCESS]:(t,{payload:e})=>t=t.set("seoList",Object(D.a)(e))}},Gn=n("mwIZ"),Dn=n.n(Gn),Tn=n("miXm"),Cn=n("z9dV"),Xn={namespace:_n.f,state:Object(D.a)({data:{public_title:"",free_content:"",first_shared_at:0,last_updated_at:0,total_fp_amount:0,total_rewards_count:0,views_count:0,wordage:0,user:{},notebook:{name:""}},baseList:{likeList:[],rewardList:[]},status:"initial",statusCode:0}),sagas:{*[Tn.a.GET_NOTE_INFO]({payload:t,req:e}){const{headers:n}=e,r=navigator.userAgent;try{const{data:e}=yield Sn({maxTries:3,delayLength:500,interruptFn:t=>{const{message:e}=t;return"axios request error"!==e}},pn.m,t,n);yield Zt({type:Tn.a.GET_NOTE_INFO_SUCCESS,payload:{data:e,userAgent:r}})}catch(o){throw yield Zt({type:Tn.a.GET_NOTE_INFO_FAIL,payload:{error:o}}),o}},*[Tn.a.GET_NOTEBOOK_INFO]({payload:t}){const{slug:e}=t,{data:n}=yield Vt(pn.k,e);yield Zt({type:Tn.a.GET_NOTEBOOK_INFO_SUCCESS,payload:{data:n}})},*[Tn.a.GET_NOTE_AUDIO]({payload:t}){const{slug:e}=t;try{const{data:t}=yield Vt(pn.j,e);yield Zt({type:Tn.a.GET_NOTE_AUDIO_SUCCESS,payload:{data:t}})}catch(n){}},*[Tn.a.FOLLOW_AUTHOR]({payload:t}){const{userId:e}=t;yield Vt(Cn.a,e),yield Zt({type:Tn.a.FOLLOW_AUTHOR_SUCCESS});const n=yield $t(ln.b);nn.a.success(n.get("following")?G.a.get("message.follow"):G.a.get("message.cancelFollow"))},[Tn.a.TOGGLE_LIKE_NOTE]:[function*(){for(;;)try{const{payload:e}=yield Ht(Tn.a.TOGGLE_LIKE_NOTE),{noteId:n,energy:r}=e,o=(yield $t(ln.h)).get("liked_note");o?yield Vt(pn.d,n):yield Vt(pn.r,n,r),yield Zt({type:Tn.a.TOGGLE_LIKE_NOTE_SUCCESS,payload:{isLiked:o}});const a=(yield $t(ln.o)).get("userInfo");o?yield Zt({type:Tn.a.REMOVE_USER_FROM_MODAL_LIST,payload:{userInfo:a,listNamespace:"likeList"}}):yield Zt({type:Tn.a.ADD_USER_TO_MODAL_LIST,payload:{userInfo:a,listNamespace:"likeList"}})}catch(t){const e=t.message;e&&nn.a.error(e)}},{type:"watcher"}],*[Tn.a.TOGGLE_DISLIKE_NOTE]({payload:t}){const{noteId:e,energy:n}=t;(yield $t(ln.h)).get("voted_down")?yield Vt(pn.c,e):yield Vt(pn.e,e,n),yield Zt({type:Tn.a.TOGGLE_DISLIKE_NOTE_SUCCESS})},*[Tn.a.REWARD_NOTE_SUCCESS](){const t=(yield $t(ln.o)).get("userInfo");yield Zt({type:Tn.a.ADD_USER_TO_MODAL_LIST,payload:{userInfo:t,listNamespace:"rewardList"}}),yield Zt({type:Tn.a.UPDATE_NOTE_REWARD_COUNT})},*[Tn.a.FOLLOW_NOTEBOOK]({payload:t}){const{notebookId:e}=t;yield Vt(pn.f,e),yield Zt({type:Tn.a.FOLLOW_NOTEBOOK_SUCCESS})},*[Tn.a.TOGGLE_COMMENT_ABLE]({payload:t}){const{slug:e}=t,{data:n}=yield Vt(pn.t,e);yield Zt({type:Tn.a.TOGGLE_COMMENT_ABLE_SUCCESS,payload:{commentAble:n.commentable}})},*[Tn.a.BOOKMARK_NOTE]({payload:t}){const{noteId:e}=t;(yield $t(ln.h)).get("bookmarked")?yield Vt(pn.b,e):yield Vt(pn.a,e),yield Zt({type:Tn.a.BOOKMARK_NOTE_SUCCESS})},*[Tn.a.GET_MODAL_LIST]({payload:t}){const{noteId:e,maxId:n,isFirst:r,listNamespace:o}=t;let a={likeList:pn.i,rewardList:pn.o}[o];const{data:c}=yield Vt(a,e,{maxId:r?null:n});return yield Zt({type:Tn.a.GET_MODAL_LIST_SUCCESS,payload:{data:c,isFirst:r,listNamespace:o}}),a=null,c}},reducers:{[Tn.a.GET_NOTE_INFO]:t=>t=t.set("status","pending"),[Tn.a.GET_NOTE_INFO_SUCCESS]:(t,e)=>{const{payload:n}=e,{data:r,userAgent:o}=n;return t=(t=t.mergeDeepIn(["data"],Object(D.a)(r))).set("status","success"),/baiduspider/i.test(o)&&(t=t.setIn(["data","wangxin_trial_open"],!1)),t},[Tn.a.GET_NOTE_INFO_FAIL]:(t,{payload:e})=>{const{error:n}=e,r=Dn()(n,["status"],500);return t=(t=t.set("statusCode",r)).set("status","fail")},[Tn.a.GET_NOTEBOOK_INFO_SUCCESS]:(t,{payload:e})=>{const{data:n}=e;t=t.mergeDeepIn(["data","notebook"],Object(D.a)({name:n.notebook_name,liked_by_user:n.liked_by_user}));const{book:r}=n;return r&&(t=t.setIn(["data","book"],Object(D.a)(r))),t},[Tn.a.GET_NOTE_AUDIO_SUCCESS]:(t,{payload:e})=>{const{data:n}=e;return t=t.setIn(["data","audio"],Object(D.a)(n))},[Tn.a.FOLLOW_AUTHOR_SUCCESS]:t=>t.updateIn(["data","user","liked_by_user"],t=>!t),[Tn.a.TOGGLE_LIKE_NOTE_SUCCESS]:(t,{payload:e})=>{const{isLiked:n}=e;return t=(t=t.updateIn(["data","liked_note"],t=>!t)).updateIn(["data","likes_count"],t=>n?t-1:t+1)},[Tn.a.TOGGLE_DISLIKE_NOTE_SUCCESS]:t=>t=t.updateIn(["data","voted_down"],t=>!t),[Tn.a.FOLLOW_NOTEBOOK_SUCCESS]:t=>t.updateIn(["data","notebook","liked_by_user"],t=>!t),[Tn.a.INCREASE_COMMENTS_COUNT]:(t,{payload:e})=>{const{count:n}=e;return t.updateIn(["data","comments_count"],t=>t+n)},[Tn.a.DECREASE_COMMENTS_COUNT]:(t,{payload:e})=>{const{count:n}=e;return t.updateIn(["data","comments_count"],t=>t-n)},[Tn.a.TOGGLE_COMMENT_ABLE_SUCCESS]:(t,{payload:e})=>{const{commentAble:n}=e;return t.setIn(["data","commentable"],n)},[Tn.a.BOOKMARK_NOTE_SUCCESS]:t=>t.updateIn(["data","bookmarked"],t=>!t),[Tn.a.GET_MODAL_LIST_SUCCESS]:(t,{payload:e})=>{const{data:n,isFirst:r,listNamespace:o}=e,a=Object(D.a)(n);return r?t.setIn(["baseList",o],a):t.updateIn(["baseList",o],t=>t.concat(a))},[Tn.a.FOLLOW_USER_IN_MODAL_LIST]:(t,{payload:e})=>{const{userId:n}=e;return t.update("baseList",t=>t.reduce((t,e,r)=>{const o=e.findIndex(t=>t.getIn(["user","id"])===n);return-1===o?t:t.update(r,t=>t.update(o,t=>t.updateIn(["user","followed"],t=>!t)))},t))},[Tn.a.ADD_USER_TO_MODAL_LIST]:(t,{payload:e})=>{const{userInfo:n,listNamespace:r}=e,o=Object(D.a)({id:-1,user:{avatar:n.get("avatar"),followed:!1,id:n.get("id"),nickname:n.get("nickname"),slug:n.get("slug")}});return t.updateIn(["baseList",r],t=>t.unshift(o))},[Tn.a.REMOVE_USER_FROM_MODAL_LIST]:(t,{payload:e})=>{const{userInfo:n,listNamespace:r}=e,o=n.get("id"),a=t.getIn(["baseList",r]).findIndex(t=>t.getIn(["user","id"])===o);return-1===a?t:t.updateIn(["baseList",r],t=>t.delete(a))},[Tn.a.UPDATE_NOTE_REWARD_COUNT]:t=>t.updateIn(["data","total_rewards_count"],t=>t+1)}},Yn=n("Puqe"),wn=n.n(Yn),Ln=n("XEfq"),Nn={namespace:_n.g,state:Object(D.a)({isLogin:!1,userInfo:{}}),sagas:{*[Ln.a.GET_CURRENT_USER]({payload:t,headers:e}){try{if((yield $t(ln.o)).get("isLogin"))return;const{res:r}=t,{data:o,headers:a}=yield Vt(Cn.b,e);r&&r.setHeader("set-cookie",a["set-cookie"]||[]),yield Zt({type:Ln.a.GET_CURRENT_USER_SUCCESS,payload:o})}catch(n){yield Zt({type:Ln.a.GET_CURRENT_USER_FAIL})}},*[Ln.a.LOG_OUT](){yield Vt(Cn.c),yield Zt({type:Ln.a.LOG_OUT_SUCCESS})}},reducers:{[Ln.a.GET_CURRENT_USER_SUCCESS]:(t,e)=>t=t.set("isLogin",!0).set("userInfo",Object(D.a)(wn()(e.payload,["read_mode","locale"]))),[Ln.a.LOG_OUT_SUCCESS]:t=>(nn.a.success("".concat(G.a.get("common.logout"),"\u6210\u529f")),t.set("isLogin",!1).set("userInfo",Object(D.a)({})))}},kn=n("JHc2"),xn=n("xhVY");function jn(t,{page:e,count:n=10,authorOnly:r=!1,order:o="desc",commentId:a}){return xn.a.get("/notes/".concat(t,"/comments"),{params:{page:e,count:n,author_only:r,order_by:o,comment_id:a}})}function Mn(t,{score:e=0,count:n=10}={}){return xn.a.get("/notes/".concat(t,"/featured_comments"),{params:{max_score:e,count:n}})}function Un(t,e=[]){return xn.a.get("/comments/".concat(t,"/more_children"),{params:{seen_comment_ids:e}})}function Pn(t,{parentId:e,content:n}){return xn.a.post("/notes/".concat(t,"/comments"),{data:{parent_id:e,content:n}})}function Rn(t){return xn.a.delete("/comments/".concat(t))}function Fn(t){return xn.a.post("/comments/".concat(t,"/dismiss"))}function qn(t){return xn.a.post("/comments/".concat(t,"/like"))}function Kn(t){return xn.a.delete("/comments/".concat(t,"/like"))}const Bn={list:[],featuredList:[]};const Wn=[bn,Xn,Nn,{namespace:_n.a,state:Object(D.a)(Bn),sagas:{*[kn.a.GET_COMMENTS]({payload:t}){const{noteId:e,params:n}=t,{data:r}=yield Vt(jn,e,n),o=Object(D.a)(r);return yield Zt({type:kn.a.GET_COMMENTS_SUCCESS,payload:o}),o},*[kn.a.GET_FEATURED_COMMENTS]({payload:t}){const{slug:e}=t,{data:n}=yield Vt(Mn,e);yield Zt({type:kn.a.GET_FEATURED_COMMENTS_SUCCESS,payload:{list:Object(D.a)(n)}})},*[kn.a.ADD_COMMENT]({payload:t}){const{noteId:e,parentId:n,content:r}=t,{data:o}=yield Vt(Pn,e,{parentId:n,content:r});yield Zt({type:kn.a.ADD_COMMENT_SUCCESS,payload:{parentId:n,data:o}}),yield Zt(Object(Tn.k)({count:1}))},*[kn.a.DELETE_COMMENT]({payload:t}){const{comment:e,isCommentOwner:n}=t,r=e.get("id"),o=e.get("parent_id"),a=n?Rn:Fn;yield Vt(a,r),yield Zt({type:kn.a.DELETE_COMMENT_SUCCESS,payload:{commentId:r,parentId:o}});const c=o?1:e.get("children_count")+1;yield Zt(Object(Tn.c)({count:c}))},*[kn.a.TOGGLE_LIKE_COMMENT]({payload:t}){const{comment:e}=t,n=e.get("id"),r=e.get("liked")?Kn:qn;yield Vt(r,n),yield Zt({type:kn.a.TOGGLE_LIKE_COMMENT_SUCCESS,payload:{comment:e}})},*[kn.a.GET_SUB_COMMENTS]({payload:t}){const{comment:e}=t,n=e.get("id"),r=e.get("children").map(t=>t.get("id")).toJS(),{data:o}=yield Vt(Un,n,r);yield Zt({type:kn.a.GET_SUB_COMMENTS_SUCCESS,payload:{comment:e,data:o}})}},reducers:{[kn.a.GET_COMMENTS_SUCCESS]:(t,{payload:e})=>t.set("list",e.get("comments")),[kn.a.GET_FEATURED_COMMENTS_SUCCESS]:(t,{payload:e})=>{const{list:n}=e;return t.set("featuredList",n)},[kn.a.ADD_COMMENT_SUCCESS]:(t,{payload:e})=>{nn.a.success(G.a.get("message.addComment"));const{parentId:n,data:r}=e,o=Object(D.a)(r);return Object.keys(Bn).forEach(e=>{let r=t.get(e);if(n){const t=r.findIndex(t=>t.get("id")===n);if(-1===t)return;r=r.updateIn([t,"children"],t=>t.push(o)).updateIn([t,"children_count"],t=>t+1)}else"featuredList"!==e&&(r=r.unshift(o));t=t.set(e,r)}),t},[kn.a.DELETE_COMMENT_SUCCESS]:(t,{payload:e})=>{nn.a.success(G.a.get("message.deleteComment"));const{commentId:n,parentId:r}=e;return Object.keys(Bn).forEach(e=>{let o=t.get(e);if(r){const t=o.findIndex(t=>t.get("id")===r);if(-1===t)return;o=o.updateIn([t,"children"],t=>t.filter(t=>t.get("id")!==n)).updateIn([t,"children_count"],t=>t-1)}else o=o.filter(t=>t.get("id")!==n);t=t.set(e,o)}),t},[kn.a.TOGGLE_LIKE_COMMENT_SUCCESS]:(t,{payload:e})=>{const{comment:n}=e,r=n.get("id"),o=n.get("liked");return o||nn.a.success(G.a.get("message.likeComment")),Object.keys(Bn).forEach(e=>{let n=t.get(e);const a=n.findIndex(t=>t.get("id")===r);-1!==a&&(n=n.update(a,t=>t.update("liked",t=>!t).update("likes_count",t=>o?t-1:t+1)),t=t.set(e,n))}),t},[kn.a.GET_SUB_COMMENTS_SUCCESS]:(t,{payload:e})=>{const{comment:n,data:r}=e,o=n.get("id");return Object.keys(Bn).forEach(e=>{let n=t.get(e);const a=n.findIndex(t=>t.get("id")===o);-1!==a&&(n=n.update(a,t=>t.update("children",t=>t.concat(Object(D.a)(r)))),t=t.set(e,n))}),t}}}],zn=Object(L.c)($e(Wn));function*Hn(){yield function(t){var e=zt(Nt,t);return e.combinator=!0,e}(cn(Wn))}function Zn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}const Jn=({getState:t})=>t=>e=>{return t(e)},Vn=()=>t=>e=>new Promise((n,r)=>{t(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Zn(Object(n),!0).forEach(function(e){Object(w.a)(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Zn(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},e,{inServer:!1,__zad__resolve__:n,__zad__reject__:r}))});var Qn,$n=n("lU+G"),tr=f.a.createElement,er=n("PrNB"),nr=n("BEu5"),rr=n.n(nr);n.d(e,"default",function(){return ar});var or=f.a.createElement;C.a.configure({showSpinner:!1}),A.a.events.on("routeChangeStart",()=>{C.a.inc(),C.a.start()}),A.a.events.on("routeChangeComplete",t=>{window._hmt&&window._hmt.push(["_trackPageview",t]),C.a.done()}),A.a.events.on("routeChangeError",()=>C.a.done());let ar=function(t,e){e=O(O({},y),e);var n="undefined"===typeof window,r=function(r){var o=r.initialState,a=r.ctx,c=e.storeKey,i=function(){return t(e.deserializeState(o),O(O(O({},a),e),{isServer:n}))};return n?i():(c in window||(window[c]=i()),window[c])};return function(t){var o;return(o=function(n){function o(t,o){var a=n.call(this,t,o)||this,c=t.initialState;return e.debug&&console.log("4. WrappedApp.render created new store with initialState",c),a.store=r({initialState:c}),a}return p(o,n),o.prototype.render=function(){var e=this.props,n=e.initialProps,r=(e.initialState,h(e,["initialProps","initialState"]));return f.a.createElement(t,O({},r,n,{store:this.store}))},o}(l.Component)).displayName="withRedux("+(t.displayName||t.name||"App")+")",o.getInitialProps=function(o){return g(void 0,void 0,void 0,function(){var a,c;return S(this,function(i){switch(i.label){case 0:if(!o)throw new Error("No app context");if(!o.ctx)throw new Error("No page context");return a=r({ctx:o.ctx}),e.debug&&console.log("1. WrappedApp.getInitialProps wrapper got the store with state",a.getState()),o.ctx.store=a,o.ctx.isServer=n,c={},"getInitialProps"in t?[4,t.getInitialProps.call(t,o)]:[3,2];case 1:c=i.sent(),i.label=2;case 2:return e.debug&&console.log("3. WrappedApp.getInitialProps has store state",a.getState()),[2,{isServer:n,initialState:n?e.serializeState(a.getState()):a.getState(),initialProps:c}]}})})},o}}(function(t={}){const e=Fe(),n=Object(L.e)(zn,t,(r=[Vn,e,Jn],Object(L.a)(...r)));var r;return n.sagaTask=e.run(Hn),n},{serializeState:t=>t,deserializeState:(t={})=>a()(Object.keys(t).map(e=>[e,Object(D.a)(t[e])]))})(Qn=(t=>{class e extends l.Component{static async getInitialProps(e){const{isServer:n,store:r,req:o}=e.ctx;let a={};return t.getInitialProps&&(a=await t.getInitialProps(e)),n&&(r.dispatch(he),await r.sagaTask.toPromise()),a}render(){return tr(t,this.props)}}return e.displayName="withNextReduxSaga(".concat(Object($n.a)(t),")"),e})(Qn=class extends v.a{static async getInitialProps({Component:t,ctx:e}){const{store:n,req:r,res:o,asPath:a}=e,c=(navigator.userAgent,!!s()(t.NEED_LOGIN)||t.NEED_LOGIN),u=!s()(t.MUST_LOGIN)&&t.MUST_LOGIN;if((c||u)&&(await n.dispatch(Object(Ln.b)()).catch(i.a),u)){Object(ln.n)(n.getState())||Object(er.i)()}let l={};if(t.getInitialProps)try{l=await t.getInitialProps(e)}catch(f){}return{pageProps:l,localeData:{},currentLocale:"",asPath:a}}constructor(t){super(t);{const{localeData:e,currentLocale:n}=t,r={[n]:e};G.a.init({currentLocale:n,locales:r})}}componentDidMount(){this.setLoginCookie()}setLoginCookie(){const{store:t}=this.props;Object(ln.n)(t.getState())?Y.a.remove("signin_redirect"):Y.a.set("signin_redirect",window.location.href)}render(){const{Component:t,pageProps:e,store:n,asPath:o}=this.props,a="".concat("https://www.jianshu.com").concat(o);return or(d.a,{store:n},or(E.a,null,or("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0, maximum-scale=5.0, minimum-scale=1.0"}),or("meta",{httpEquiv:"X-UA-Compatible",content:"ie=edge,chrome=1"}),or("meta",{key:"cache-control-1",httpEquiv:"Cache-Control",content:"no-siteapp"}),or("meta",{key:"cache-control-2",httpEquiv:"Cache-Control",content:"no-transform"}),or("meta",{name:"applicable-device",content:"pc,mobile"}),or("meta",{name:"MobileOptimized",content:"width"}),or("meta",{name:"HandheldFriendly",content:"true"}),or("meta",{name:"theme-color",content:"#ec7259"}),or("meta",{name:"renderer",content:"webkit"}),or("meta",{name:"force-rendering",content:"webkit"}),or("meta",{name:"google",value:"notranslate"}),or("meta",{property:"wb:webmaster",content:"294ec9de89e7fadb"}),or("meta",{property:"qc:admins",content:"104102651453316562112116375"}),or("meta",{property:"qc:admins",content:"11635613706305617"}),or("meta",{property:"qc:admins",content:"1163561616621163056375"}),or("meta",{name:"360-site-verification",content:"604a14b53c6b871206001285921e81d8"}),or("meta",{key:"google1",name:"google-site-verification",content:"cV4-qkUJZR6gmFeajx_UyPe47GW9vY6cnCrYtCHYNh4"}),or("meta",{key:"google2",name:"google-site-verification",content:"HF7lfF8YEGs1qtCE-kPml8Z469e2RHhGajy6JPVy5XI"}),or("meta",{name:"apple-mobile-web-app-title",content:"\u7b80\u4e66"}),or("link",{href:rr.a,rel:"shortcut icon",type:"image/x-icon"}),or("link",{rel:"dns-prefetch",href:"//cdn2.jianshu.io"}),or("link",{rel:"dns-prefetch",href:"//upload-images.jianshu.io"})),or(t,Object(r.a)({path:a},e)))}})||Qn)||Qn},"1hJj":function(t,e,n){var r=n("e4Nc"),o=n("ftKO"),a=n("3A9y");function c(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new r;++e<n;)this.add(t[e])}c.prototype.add=c.prototype.push=o,c.prototype.has=a,t.exports=c},"3A9y":function(t,e){t.exports=function(t){return this.__data__.has(t)}},"3Ywu":function(t,e,n){"use strict";n.d(e,"e",function(){return s}),n.d(e,"b",function(){return l}),n.d(e,"c",function(){return f}),n.d(e,"a",function(){return d}),n.d(e,"d",function(){return p}),n.d(e,"f",function(){return O});const r=/Trident\/7\.0; rv:11\.0/i,o=/MSIE (\d+\.\d+)/i,a=/firefox\/(\d+\.\d+)/i,c=/chrome\/(\d+\.\d+)/i,i=/(\d+\.\d)?(?:\.\d)?\s+safari/i,u=/mac/i;function s(t){return r.test(t)}function l(t){const e=o.exec(t);return e&&e[1]}function f(t){const e=a.exec(t);return e&&e[1]}function d(t){const e=c.exec(t);return e&&e[1]}function p(t){const e=i.exec(t);return d(t)?null:e&&e[1]}function O(t){return u.test(t)}},"4/ic":function(t,e,n){var r=n("ZWtO");t.exports=function(t){return function(e){return r(e,t)}}},"711d":function(t,e){t.exports=function(t){return function(e){return null==e?void 0:e[t]}}},"7fqy":function(t,e){t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}},"8Bbg":function(t,e,n){t.exports=n("B5Ud")},B5Ud:function(t,e,n){"use strict";var r=n("KI45");e.__esModule=!0,e.Container=function(t){0;return t.children},e.createUrl=f,e.default=void 0;var o=r(n("htGi")),a=r(n("+oT+")),c=r(n("q1tI")),i=n("g/15");function u(t){return s.apply(this,arguments)}function s(){return(s=(0,a.default)(function*(t){var{Component:e,ctx:n}=t;return{pageProps:yield(0,i.loadGetInitialProps)(e,n)}})).apply(this,arguments)}e.AppInitialProps=i.AppInitialProps;class l extends c.default.Component{componentDidCatch(t,e){throw t}render(){var{router:t,Component:e,pageProps:n}=this.props,r=f(t);return c.default.createElement(e,(0,o.default)({},n,{url:r}))}}function f(t){var{pathname:e,asPath:n,query:r}=t;return{get query(){return r},get pathname(){return e},get asPath(){return n},back:()=>{t.back()},push:(e,n)=>t.push(e,n),pushTo:(e,n)=>{var r=n?e:"",o=n||e;return t.push(r,o)},replace:(e,n)=>t.replace(e,n),replaceTo:(e,n)=>{var r=n?e:"",o=n||e;return t.replace(r,o)}}}e.default=l,l.origGetInitialProps=u,l.getInitialProps=u},BEu5:function(t,e){t.exports="data:image/vnd.microsoft.icon;base64,AAABAAEAICAAAAEAIACoEAAAFgAAACgAAAAgAAAAQAAAAAEAIAAAAAAAABAAABILAAASCwAAAAAAAAAAAAAAAAAASWTtHEhh5qZIYObmSGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDm5khh5qZJZO0cAAAAAElk7RxIYeXtSGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hh5e1JZO0cSGHmpkhg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hh5qZIYObmSGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDm5khg5f9IYOX/SGDl/0hg5f9IYOX/ipnu/5qn8P9qfen/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/TWTl/5qn8P+grfH/nKnx/3iJ6/9JYeX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f/Cyvb///////T2/f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f99juz//////////////////////8vS9/9LY+X/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/8LK9v///////f3+/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/2l96f+hrfH/o6/x/9HX+P///////////5Gg7/9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/wsr2///////9/f7/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/Vmzn////////////usP1/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f/Cyvb///////39/v9IYOX/SGDl/46d7v/+/v7//v7+//7+/v/+/v7//v7+//7+/v/+/v7/8fP9/8LK9v9keOn/SGDl/0hg5f9JYeX///////////+9xvX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/8LK9v///////f3+/0hg5f9IYOX/j53v////////////ydD3/6ax8v+msfL/prHy/6248//t8Pz//////+/x/P9dcuj/SGDl/0lh5f///////////73G9f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/wsr2///////9/f7/SGDl/0hg5f+Pne////////////+RoO//SGDl/0hg5f9IYOX/SGDl/5Kg7////////////56q8f9IYOX/SWHl////////////vcb1/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f/Cyvb///////39/v9IYOX/SGDl/4+d7////////////5Oh7/9JYeX/SWHl/0lh5f9JYeX/h5fu////////////ucL1/0hg5f9JYeX///////////+9xvX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/8LK9v///////f3+/0hg5f9IYOX/j53v//////////////////////////////////////////////////////+4wfX/SGDl/0lh5f///////////73G9f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/wsr2///////9/f7/SGDl/0hg5f+Pne/////////////g5Pr/xs32/8bN9v/Gzfb/xs32/9jd+f///////////7fB9P9IYOX/SWHl////////////vcb1/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f/Cyvb///////39/v9IYOX/SGDl/4+d7////////////5uo8P9IYOX/SGDl/0hg5f9IYOX/gZHt////////////t8D0/0hg5f9JYeX///////////+9xvX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/8LK9v///////f3+/0hg5f9IYOX/j53v////////////m6jw/0hg5f9IYOX/SGDl/0hg5f+Bke3///////////+2wPT/SGDl/0lh5f///////////73G9f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/wsr2///////9/f7/SGDl/0hg5f+Pne///////////////////////////////////////////////////////7W/9P9IYOX/SWHl////////////vcb1/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f/Cyvb///////39/v9IYOX/SGDl/4WV7f/l6Pv/5ej7/+Xo+//l6Pv/5ej7/+Xo+//l6Pv/5ej7/+Xo+//l6Pv/pbHy/0hg5f9JYeX///////////+9xvX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/2h86f96i+z/eozs/7S+9P/K0ff/p7Ly/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0lh5f///////////73G9f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9gdej///////////+8xfX/bYDq/5il8P+YpfD/mKXw/5il8P+YpfD/mKXw/5il8P+YpfD/mKXw/5il8P+YpfD/mafw////////////vcb1/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/7zF9f//////9fb9/1906P/P1fj///////////////////////////////////////////////////////////////////////////+9xvX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/oK3x/1Rq5v9/kOz///////z9/v99juz/SGDl/6u28//AyPb/wMj2/8DI9v/K0ff/4eX6/8DI9v/AyPb/wMj2/8DI9v/AyPb/wMj2/8DI9v/AyPb/wMj2/5Wj8P9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f/8/f7/9fb9/6248/9Uaub/TWTl/0hg5f9/kOz/6Ov7/+Hl+v9ccuf/SGDl/3WH6///////vMX1/1Fo5v9IYOX/SGDl/0hg5f/L0vf/9/j9/8TL9v9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/6Ov8f/6+/7//////87U+P9PZub/SGDl/7rD9f//////9fb9/05l5f9IYOX/YXXo/+7w/P//////3eL6/1lu5/9IYOX/TWTl//f4/f//////rbjz/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/22A6v/09v3//////9fc+f+Zp/D/9vf9///////Y3fn/j53v/5Si7/+Wo/D/Znrp/93i+v//////3uL6/5mn8P+yvPT///////////+yvPT/mafw/5mn8P96i+z/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/32O7P////////////////////////////////////////////////+cqfH/X3To//r7/v////////////////////////////////////////////Hz/f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/8zT9////////////2l86f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/usP1////////////iJju/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/jJvu////////////kZ/v/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9/kOz///////////+eqvH/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5uZIYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9KYeX/SmHl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYObmSGHmpkhg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hh5qZJZO0cSGHl7Uhg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYeXtSWTtHAAAAABJZO0cSGHmpkhg5uZIYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYOX/SGDl/0hg5f9IYObmSGHmpklk7RwAAAAAgAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAE="},CMye:function(t,e,n){var r=n("GoyQ");t.exports=function(t){return t===t&&!r(t)}},GDhZ:function(t,e,n){var r=n("wF/u"),o=n("mwIZ"),a=n("hgQt"),c=n("9ggG"),i=n("CMye"),u=n("IOzZ"),s=n("9Nap"),l=1,f=2;t.exports=function(t,e){return c(t)&&i(e)?u(s(t),e):function(n){var c=o(n,t);return void 0===c&&c===e?a(n,t):r(e,c,l|f)}}},GcxT:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/_app",function(){return n("1TCz")}])},HDyB:function(t,e,n){var r=n("nmnc"),o=n("JHRd"),a=n("ljhN"),c=n("or5M"),i=n("7fqy"),u=n("rEGp"),s=1,l=2,f="[object Boolean]",d="[object Date]",p="[object Error]",O="[object Map]",g="[object Number]",S="[object RegExp]",h="[object Set]",y="[object String]",_="[object Symbol]",v="[object ArrayBuffer]",m="[object DataView]",E=r?r.prototype:void 0,I=E?E.valueOf:void 0;t.exports=function(t,e,n,r,E,A,b){switch(n){case m:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case v:return!(t.byteLength!=e.byteLength||!A(new o(t),new o(e)));case f:case d:case g:return a(+t,+e);case p:return t.name==e.name&&t.message==e.message;case S:case y:return t==e+"";case O:var G=i;case h:var D=r&s;if(G||(G=u),t.size!=e.size&&!D)return!1;var T=b.get(t);if(T)return T==e;r|=l,b.set(t,e);var C=c(G(t),G(e),r,E,A,b);return b.delete(t),C;case _:if(I)return I.call(t)==I.call(e)}return!1}},IOzZ:function(t,e){t.exports=function(t,e){return function(n){return null!=n&&n[t]===e&&(void 0!==e||t in Object(n))}}},J2iB:function(t,e){t.exports=function(t){return null==t}},JC6p:function(t,e,n){var r=n("cq/+"),o=n("7GkX");t.exports=function(t,e){return t&&r(t,e,o)}},Mj6V:function(t,e,n){var r,o;void 0===(o="function"===typeof(r=function(){var t={version:"0.2.0"},e=t.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};function n(t,e,n){return t<e?e:t>n?n:t}function r(t){return 100*(-1+t)}t.configure=function(t){var n,r;for(n in t)void 0!==(r=t[n])&&t.hasOwnProperty(n)&&(e[n]=r);return this},t.status=null,t.set=function(c){var i=t.isStarted();c=n(c,e.minimum,1),t.status=1===c?null:c;var u=t.render(!i),s=u.querySelector(e.barSelector),l=e.speed,f=e.easing;return u.offsetWidth,o(function(n){""===e.positionUsing&&(e.positionUsing=t.getPositioningCSS()),a(s,function(t,n,o){var a;return(a="translate3d"===e.positionUsing?{transform:"translate3d("+r(t)+"%,0,0)"}:"translate"===e.positionUsing?{transform:"translate("+r(t)+"%,0)"}:{"margin-left":r(t)+"%"}).transition="all "+n+"ms "+o,a}(c,l,f)),1===c?(a(u,{transition:"none",opacity:1}),u.offsetWidth,setTimeout(function(){a(u,{transition:"all "+l+"ms linear",opacity:0}),setTimeout(function(){t.remove(),n()},l)},l)):setTimeout(n,l)}),this},t.isStarted=function(){return"number"===typeof t.status},t.start=function(){t.status||t.set(0);var n=function(){setTimeout(function(){t.status&&(t.trickle(),n())},e.trickleSpeed)};return e.trickle&&n(),this},t.done=function(e){return e||t.status?t.inc(.3+.5*Math.random()).set(1):this},t.inc=function(e){var r=t.status;return r?("number"!==typeof e&&(e=(1-r)*n(Math.random()*r,.1,.95)),r=n(r+e,0,.994),t.set(r)):t.start()},t.trickle=function(){return t.inc(Math.random()*e.trickleRate)},function(){var e=0,n=0;t.promise=function(r){return r&&"resolved"!==r.state()?(0===n&&t.start(),e++,n++,r.always(function(){0===--n?(e=0,t.done()):t.set((e-n)/e)}),this):this}}(),t.render=function(n){if(t.isRendered())return document.getElementById("nprogress");i(document.documentElement,"nprogress-busy");var o=document.createElement("div");o.id="nprogress",o.innerHTML=e.template;var c,u=o.querySelector(e.barSelector),s=n?"-100":r(t.status||0),f=document.querySelector(e.parent);return a(u,{transition:"all 0 linear",transform:"translate3d("+s+"%,0,0)"}),e.showSpinner||(c=o.querySelector(e.spinnerSelector))&&l(c),f!=document.body&&i(f,"nprogress-custom-parent"),f.appendChild(o),o},t.remove=function(){u(document.documentElement,"nprogress-busy"),u(document.querySelector(e.parent),"nprogress-custom-parent");var t=document.getElementById("nprogress");t&&l(t)},t.isRendered=function(){return!!document.getElementById("nprogress")},t.getPositioningCSS=function(){var t=document.body.style,e="WebkitTransform"in t?"Webkit":"MozTransform"in t?"Moz":"msTransform"in t?"ms":"OTransform"in t?"O":"";return e+"Perspective"in t?"translate3d":e+"Transform"in t?"translate":"margin"};var o=function(){var t=[];function e(){var n=t.shift();n&&n(e)}return function(n){t.push(n),1==t.length&&e()}}(),a=function(){var t=["Webkit","O","Moz","ms"],e={};function n(n){return n=n.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(t,e){return e.toUpperCase()}),e[n]||(e[n]=function(e){var n=document.body.style;if(e in n)return e;for(var r,o=t.length,a=e.charAt(0).toUpperCase()+e.slice(1);o--;)if((r=t[o]+a)in n)return r;return e}(n))}function r(t,e,r){e=n(e),t.style[e]=r}return function(t,e){var n,o,a=arguments;if(2==a.length)for(n in e)void 0!==(o=e[n])&&e.hasOwnProperty(n)&&r(t,n,o);else r(t,a[1],a[2])}}();function c(t,e){var n="string"==typeof t?t:s(t);return n.indexOf(" "+e+" ")>=0}function i(t,e){var n=s(t),r=n+e;c(n,e)||(t.className=r.substring(1))}function u(t,e){var n,r=s(t);c(t,e)&&(n=r.replace(" "+e+" "," "),t.className=n.substring(1,n.length-1))}function s(t){return(" "+(t.className||"")+" ").replace(/\s+/gi," ")}function l(t){t&&t.parentNode&&t.parentNode.removeChild(t)}return t})?r.call(e,n,e,t):r)||(t.exports=o)},O7RO:function(t,e,n){var r=n("CMye"),o=n("7GkX");t.exports=function(t){for(var e=o(t),n=e.length;n--;){var a=e[n],c=t[a];e[n]=[a,c,r(c)]}return e}},O7iK:function(t,e){t.exports=function(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var o=t[e];r[o[0]]=o[1]}return r}},OFL0:function(t,e,n){var r=n("lvO4"),o=n("4sDh");t.exports=function(t,e){return null!=t&&o(t,e,r)}},QoRX:function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}},ZCpW:function(t,e,n){var r=n("lm/5"),o=n("O7RO"),a=n("IOzZ");t.exports=function(t){var e=o(t);return 1==e.length&&e[0][2]?a(e[0][0],e[0][1]):function(n){return n===t||r(n,t,e)}}},"cq/+":function(t,e,n){var r=n("mc0g")();t.exports=r},dMi0:function(t,e,n){var r=n("lyyl"),o=n("JC6p"),a=n("ut/Y");t.exports=function(t,e){return r(t,a(e,3),o)}},e5cp:function(t,e,n){var r=n("fmRc"),o=n("or5M"),a=n("HDyB"),c=n("seXi"),i=n("QqLw"),u=n("Z0cm"),s=n("DSRE"),l=n("c6wG"),f=1,d="[object Arguments]",p="[object Array]",O="[object Object]",g=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,S,h,y){var _=u(t),v=u(e),m=_?p:i(t),E=v?p:i(e),I=(m=m==d?O:m)==O,A=(E=E==d?O:E)==O,b=m==E;if(b&&s(t)){if(!s(e))return!1;_=!0,I=!1}if(b&&!I)return y||(y=new r),_||l(t)?o(t,e,n,S,h,y):a(t,e,m,n,S,h,y);if(!(n&f)){var G=I&&g.call(t,"__wrapped__"),D=A&&g.call(e,"__wrapped__");if(G||D){var T=G?t.value():t,C=D?e.value():e;return y||(y=new r),h(T,C,n,S,y)}}return!!b&&(y||(y=new r),c(t,e,n,S,h,y))}},ftKO:function(t,e){var n="__lodash_hash_undefined__";t.exports=function(t){return this.__data__.set(t,n),this}},g3DI:function(t,e,n){"use strict";n.d(e,"m",function(){return i}),n.d(e,"k",function(){return u}),n.d(e,"j",function(){return s}),n.d(e,"p",function(){return l}),n.d(e,"g",function(){return f}),n.d(e,"q",function(){return d}),n.d(e,"h",function(){return p}),n.d(e,"r",function(){return O}),n.d(e,"d",function(){return g}),n.d(e,"e",function(){return S}),n.d(e,"c",function(){return h}),n.d(e,"n",function(){return y}),n.d(e,"f",function(){return _}),n.d(e,"t",function(){return v}),n.d(e,"a",function(){return m}),n.d(e,"b",function(){return E}),n.d(e,"i",function(){return I}),n.d(e,"o",function(){return A}),n.d(e,"l",function(){return b}),n.d(e,"s",function(){return G});var r=n("vN+2"),o=n.n(r),a=n("xhVY"),c=n("wrf5");function i(t,e){const{slug:n}=t;return a.a.get("v2/notes/".concat(n),{headers:e})}function u(t){return a.a.get("v2/notes/".concat(t,"/book"))}function s(t){return a.a.get("v2/notes/".concat(t,"/audio"))}function l(t,e){return a.a.get("/notes/seo_recommendations",{headers:e,params:{slug:t}})}function f(t){return a.a.get("/notes/".concat(t,"/user_notes"))}function d(t){return a.a.get("/notes/".concat(t,"/recommendations"))}function p(t,{page:e=1,count:n=c.a}={}){return a.a.get("/notes/".concat(t,"/included_collections"),{params:{page:e,count:n}})}function O(t,e=3){return a.a.post("/notes/".concat(t,"/like"),{data:{note_id:t,energy_point:e}})}function g(t){return a.a.delete("/notes/".concat(t,"/like"))}function S(t,e=3){return a.a.post("/notes/".concat(t,"/votedown"),{data:{note_id:t,energy_point:e}})}function h(t){return a.a.delete("/notes/".concat(t,"/votedown"))}function y(t){return a.a.get("/notes/".concat(t,"/reward_section"))}function _(t){return a.a.post("/notebooks/".concat(t,"/toggle_like"))}function v(t){return a.a.put("/notes/".concat(t,"/toggle_comment"))}function m(t){return a.a.post("/notes/".concat(t,"/bookmarks"))}function E(t){return a.a.delete("/notes/".concat(t,"/bookmarks"))}function I(t,{maxId:e,count:n=20}={}){return a.a.get("/notes/".concat(t,"/likes"),{params:{max_id:e,count:n}})}function A(t,{maxId:e,count:n=20}={}){return a.a.get("/notes/".concat(t,"/rewards"),{params:{max_id:e,count:n}})}function b(t){return a.a.get("/notes/".concat(t,"/promotions"))}function G(t){a.a.post("/notes/".concat(t,"/mark_viewed")).then(o.a).catch(o.a)}},"lm/5":function(t,e,n){var r=n("fmRc"),o=n("wF/u"),a=1,c=2;t.exports=function(t,e,n,i){var u=n.length,s=u,l=!i;if(null==t)return!s;for(t=Object(t);u--;){var f=n[u];if(l&&f[2]?f[1]!==t[f[0]]:!(f[0]in t))return!1}for(;++u<s;){var d=(f=n[u])[0],p=t[d],O=f[1];if(l&&f[2]){if(void 0===p&&!(d in t))return!1}else{var g=new r;if(i)var S=i(p,O,d,t,e,g);if(!(void 0===S?o(O,p,a|c,i,g):S))return!1}}return!0}},lvO4:function(t,e){var n=Object.prototype.hasOwnProperty;t.exports=function(t,e){return null!=t&&n.call(t,e)}},lyyl:function(t,e){t.exports=function(t,e,n){var r;return n(t,function(t,n,o){if(e(t,n,o))return r=n,!1}),r}},mc0g:function(t,e){t.exports=function(t){return function(e,n,r){for(var o=-1,a=Object(e),c=r(e),i=c.length;i--;){var u=c[t?i:++o];if(!1===n(a[u],u,a))break}return e}}},miXm:function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"j",function(){return o}),n.d(e,"i",function(){return a}),n.d(e,"h",function(){return c}),n.d(e,"d",function(){return i}),n.d(e,"o",function(){return u}),n.d(e,"n",function(){return s}),n.d(e,"e",function(){return l}),n.d(e,"k",function(){return f}),n.d(e,"c",function(){return d}),n.d(e,"m",function(){return p}),n.d(e,"b",function(){return O}),n.d(e,"f",function(){return g}),n.d(e,"g",function(){return S}),n.d(e,"l",function(){return h});n("rE2o"),n("ioFf");const r={GET_NOTE_INFO:Symbol("get_note_info"),GET_NOTE_INFO_SUCCESS:Symbol("get_note_info_success"),GET_NOTE_INFO_FAIL:Symbol("get_note_info_fail"),GET_NOTEBOOK_INFO:Symbol("get_notebook_info"),GET_NOTEBOOK_INFO_SUCCESS:Symbol("get_notebook_info_success"),GET_NOTE_AUDIO:Symbol("get_note_audio"),GET_NOTE_AUDIO_SUCCESS:Symbol("get_note_audio_success"),FOLLOW_AUTHOR:Symbol("follow_author"),FOLLOW_AUTHOR_SUCCESS:Symbol("follow_author_success"),TOGGLE_LIKE_NOTE:Symbol("toggle_like_note"),TOGGLE_LIKE_NOTE_SUCCESS:Symbol("toggle_like_note_success"),TOGGLE_DISLIKE_NOTE:Symbol("toggle_dislike_note"),TOGGLE_DISLIKE_NOTE_SUCCESS:Symbol("toggle_dislike_note_success"),FOLLOW_NOTEBOOK:Symbol("follow_notebook"),FOLLOW_NOTEBOOK_SUCCESS:Symbol("follow_notebook_success"),INCREASE_COMMENTS_COUNT:Symbol("increase_comments_count"),DECREASE_COMMENTS_COUNT:Symbol("decrease_comments_count"),TOGGLE_COMMENT_ABLE:Symbol("toggle_comment_able"),TOGGLE_COMMENT_ABLE_SUCCESS:Symbol("toggle_comment_able_success"),BOOKMARK_NOTE:Symbol("bookmark_note"),BOOKMARK_NOTE_SUCCESS:Symbol("bookmark_note_success"),GET_MODAL_LIST:Symbol("get_modal_list"),GET_MODAL_LIST_SUCCESS:Symbol("get_modal_list_success"),FOLLOW_USER_IN_MODAL_LIST:Symbol("follow_user_in_modal_list"),ADD_USER_TO_MODAL_LIST:Symbol("add_user_to_modal_list"),REMOVE_USER_FROM_MODAL_LIST:Symbol("remove_user_from_modal_list"),REWARD_NOTE_SUCCESS:Symbol("reward_note_success"),UPDATE_NOTE_REWARD_COUNT:Symbol("update_note_reward_count")};function o(t,e){return{type:r.GET_NOTE_INFO,payload:t,req:e}}function a(t){return{type:r.GET_NOTEBOOK_INFO,payload:t}}function c(t){return{type:r.GET_NOTE_AUDIO,payload:t}}function i(t){return{type:r.FOLLOW_AUTHOR,payload:t}}function u(t){return{type:r.TOGGLE_LIKE_NOTE,payload:t}}function s(t){return{type:r.TOGGLE_DISLIKE_NOTE,payload:t}}function l(t){return{type:r.FOLLOW_NOTEBOOK,payload:t}}function f(t){return{type:r.INCREASE_COMMENTS_COUNT,payload:t}}function d(t){return{type:r.DECREASE_COMMENTS_COUNT,payload:t}}function p(t){return{type:r.TOGGLE_COMMENT_ABLE,payload:t}}function O(t){return{type:r.BOOKMARK_NOTE,payload:t}}function g(t){return{type:r.FOLLOW_USER_IN_MODAL_LIST,payload:t}}function S(t){return{type:r.GET_MODAL_LIST,payload:t}}function h(t){return{type:r.REWARD_NOTE_SUCCESS,payload:t}}},or5M:function(t,e,n){var r=n("1hJj"),o=n("QoRX"),a=n("xYSL"),c=1,i=2;t.exports=function(t,e,n,u,s,l){var f=n&c,d=t.length,p=e.length;if(d!=p&&!(f&&p>d))return!1;var O=l.get(t);if(O&&l.get(e))return O==e;var g=-1,S=!0,h=n&i?new r:void 0;for(l.set(t,e),l.set(e,t);++g<d;){var y=t[g],_=e[g];if(u)var v=f?u(_,y,g,e,t,l):u(y,_,g,t,e,l);if(void 0!==v){if(v)continue;S=!1;break}if(h){if(!o(e,function(t,e){if(!a(h,e)&&(y===t||s(y,t,n,u,l)))return h.push(e)})){S=!1;break}}else if(y!==_&&!s(y,_,n,u,l)){S=!1;break}}return l.delete(t),l.delete(e),S}},p46w:function(t,e,n){var r,o;!function(a){if(void 0===(o="function"===typeof(r=a)?r.call(e,n,e,t):r)||(t.exports=o),!0,t.exports=a(),!!0){var c=window.Cookies,i=window.Cookies=a();i.noConflict=function(){return window.Cookies=c,i}}}(function(){function t(){for(var t=0,e={};t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}function e(t){return t.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(r){function o(){}function a(e,n,a){if("undefined"!==typeof document){"number"===typeof(a=t({path:"/"},o.defaults,a)).expires&&(a.expires=new Date(1*new Date+864e5*a.expires)),a.expires=a.expires?a.expires.toUTCString():"";try{var c=JSON.stringify(n);/^[\{\[]/.test(c)&&(n=c)}catch(s){}n=r.write?r.write(n,e):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=encodeURIComponent(String(e)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var i="";for(var u in a)a[u]&&(i+="; "+u,!0!==a[u]&&(i+="="+a[u].split(";")[0]));return document.cookie=e+"="+n+i}}function c(t,n){if("undefined"!==typeof document){for(var o={},a=document.cookie?document.cookie.split("; "):[],c=0;c<a.length;c++){var i=a[c].split("="),u=i.slice(1).join("=");n||'"'!==u.charAt(0)||(u=u.slice(1,-1));try{var s=e(i[0]);if(u=(r.read||r)(u,s)||e(u),n)try{u=JSON.parse(u)}catch(l){}if(o[s]=u,t===s)break}catch(l){}}return t?o[t]:o}}return o.set=a,o.get=function(t){return c(t,!1)},o.getJSON=function(t){return c(t,!0)},o.remove=function(e,n){a(e,"",t(n,{expires:-1}))},o.defaults={},o.withConverter=n,o}(function(){})})},rEGp:function(t,e){t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}},seXi:function(t,e,n){var r=n("qZTm"),o=1,a=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,c,i,u){var s=n&o,l=r(t),f=l.length;if(f!=r(e).length&&!s)return!1;for(var d=f;d--;){var p=l[d];if(!(s?p in e:a.call(e,p)))return!1}var O=u.get(t);if(O&&u.get(e))return O==e;var g=!0;u.set(t,e),u.set(e,t);for(var S=s;++d<f;){var h=t[p=l[d]],y=e[p];if(c)var _=s?c(y,h,p,e,t,u):c(h,y,p,t,e,u);if(!(void 0===_?h===y||i(h,y,n,c,u):_)){g=!1;break}S||(S="constructor"==p)}if(g&&!S){var v=t.constructor,m=e.constructor;v!=m&&"constructor"in t&&"constructor"in e&&!("function"==typeof v&&v instanceof v&&"function"==typeof m&&m instanceof m)&&(g=!1)}return u.delete(t),u.delete(e),g}},"ut/Y":function(t,e,n){var r=n("ZCpW"),o=n("GDhZ"),a=n("zZ0H"),c=n("Z0cm"),i=n("+c4W");t.exports=function(t){return"function"==typeof t?t:null==t?a:"object"==typeof t?c(t)?o(t[0],t[1]):r(t):i(t)}},"wF/u":function(t,e,n){var r=n("e5cp"),o=n("ExA7");t.exports=function t(e,n,a,c,i){return e===n||(null==e||null==n||!o(e)&&!o(n)?e!==e&&n!==n:r(e,n,a,c,t,i))}},"wZ/u":function(t,e,n){"use strict";n.d(e,"a",function(){return a});n("ioFf"),n("rGqo");var r=n("rePB");n("KKXr"),n("pIFo");function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function a(t="",e,n){if(!t)return{};const a=t.split("; ").reduce((t,e)=>{const[n,a]=e.split("=");let c=function(t=""){return t.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}(a);try{c=JSON.parse(c)}catch(i){}return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach(function(e){Object(r.a)(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},t,{},{[n]:c})},{});return e?a[e]||n:a}},xYSL:function(t,e){t.exports=function(t,e){return t.has(e)}},z9dV:function(t,e,n){"use strict";n.d(e,"b",function(){return u}),n.d(e,"a",function(){return s}),n.d(e,"c",function(){return l});var r=n("OFL0"),o=n.n(r),a=n("xhVY"),c=n("wZ/u");const i=!1;function u(t){if(i){const e=Object(c.a)(t.cookie);return o()(e,"remember_user_token")||o()(e,"_m7e_session_core")?a.a.get("/current_user",{headers:t}):new Promise((t,e)=>e({error:{message:"has no cookie"}}))}return a.a.get("/current_user")}function s(t){return a.a.post("/users/".concat(t,"/toggle_like"))}function l(){return a.a.delete("/sign_out")}}},[["GcxT",0,1]]]);